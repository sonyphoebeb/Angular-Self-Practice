<div class="container">
  <h2>{{ title }}</h2>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <!-- Name -->
    <label>Name:</label>
    <input type="text" formControlName="name" />
    <div *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid" class="error">
      Name is required and must be at least 3 characters.
    </div>

    <!-- Email -->
    <label>Email:</label>
    <input type="email" formControlName="email" />
    <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid" class="error">
      Enter a valid email.
    </div>

    <!-- Address -->
    <div formGroupName="address">
      <label>City:</label>
      <input type="text" formControlName="city" />
      <div *ngIf="userForm.get('address.city')?.touched && userForm.get('address.city')?.invalid" class="error">
        City is required.
      </div>

      <label>Pincode:</label>
      <input type="text" formControlName="pincode" />
      <div *ngIf="userForm.get('address.pincode')?.touched && userForm.get('address.pincode')?.invalid" class="error">
        Enter a valid 6-digit pincode.
      </div>
    </div>

    <!-- Hobbies -->
    <div formArrayName="hobbies">
      <label>Hobbies:</label>
      <div *ngFor="let hobby of hobbies.controls; let i = index">
        <input [formControlName]="i" placeholder="Enter hobby" />
        <button type="button" (click)="removeHobby(i)">Remove</button>
      </div>
      <button type="button" (click)="addHobby()">+ Add Hobby</button>
    </div>

    <!-- Submit -->
    <button type="submit" [disabled]="userForm.invalid">Submit</button>
  </form>

  <hr />
  <h3>Form Value (Debug):</h3>
  <pre>{{ userForm.value | json }}</pre>
</div>